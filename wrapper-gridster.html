<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../import-jquery/import-jquery.html">

<script src="../gridster/dist/jquery.gridster.min.js"></script>
<link rel="stylesheet" type="text/css" href="../gridster/dist/jquery.gridster.min.css">

<dom-module id="wrapper-gridster">
  <style>
  </style>

  <template>
    <div class="gridster">
      <ul></ul>
    </div>
  </template>
</dom-module>

<script>
  Polymer({
    is: "wrapper-gridster",
    init: function(config) {
      this.gridster = $(".gridster > ul").gridster(config).data("gridster");
    },
    destroy: function() {
      this.gridster.remove_all_widgets();
      this.gridster = null;
    },
    getOptions: function() {
      return this.gridster.options;
    },
    setEnabled: function(enabled) {
      if (enabled) {
        this.gridster.enable();
      } else {
        this.gridster.disable();
      }
    },
    setResizeable: function(resizeable) {
      if (resizeable) {
        this.gridster.enable_resize();
      } else {
        this.gridster.disable_resize();
      }
    },
    add: function(html, sizeX, sizeY, column, row) {
      return this.gridster.add_widget(html, sizeX, sizeY, column, row);
    },
    remove: function(element, callback) {
      this.gridster.remove_widget(element, callback);
    },
    serialize: function() {
      return this.gridster.serialize();
    }
  });
</script>
